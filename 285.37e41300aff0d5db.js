"use strict";(self.webpackChunkCCMS=self.webpackChunkCCMS||[]).push([[285],{6285:(xe,V,c)=>{c.r(V),c.d(V,{TransactionModule:()=>Ce});var b=c(6814),u=c(95),L=c(4300),T=c(3651),H=c(8484),r=c(5879),j=c(2296),$=c(5897),_=c(3680),x=c(8645),D=(c(7394),c(6028),c(2831),c(2495),c(6825),c(9157)),E=c(2032);let Z=(()=>{var n;class s{constructor(){this.changes=new x.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,t){return`${e} \u2013 ${t}`}formatYearRangeLabel(e,t){return`${e} to ${t}`}}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),s})();const ne={provide:new r.OlP("mat-datepicker-scroll-strategy"),deps:[T.aV],useFactory:function ae(n){return()=>n.scrollStrategies.reposition()}};let ce=(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Z,ne],imports:[b.ez,j.ot,T.U8,L.rt,H.eL,_.BQ,$.ZD]}),s})();var N=c(4913),B=c(4779),R=c(4581),he=c(9184),ue=c(8384);function _e(n,s){if(1&n&&(r.TgZ(0,"mat-option",10),r._uU(1),r.qZA()),2&n){const i=s.$implicit;r.Q6J("value",null==i?null:i.card_number),r.xp6(1),r.Oqu(null==i?null:i.card_number)}}function pe(n,s){1&n&&(r.TgZ(0,"mat-error"),r._uU(1,"Credit Card is required!"),r.qZA())}function me(n,s){1&n&&(r.TgZ(0,"mat-error"),r._uU(1,"Amount is required!"),r.qZA())}function ge(n,s){1&n&&(r.TgZ(0,"mat-error"),r._uU(1,"Enter a valid amount!"),r.qZA())}function ve(n,s){1&n&&(r.TgZ(0,"mat-error"),r._uU(1,"Currency is required!"),r.qZA())}function fe(n,s){1&n&&(r.TgZ(0,"mat-error"),r._uU(1,"date is required!"),r.qZA())}function De(n,s){1&n&&(r.TgZ(0,"mat-error"),r._uU(1,"Enter a valid date!"),r.qZA())}const ye=[{path:"",component:(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-transaction-overview"]],decls:6,vars:0,consts:[[1,"flex-container-row"],["routerLink","add"]],template:function(e,t){1&e&&(r.TgZ(0,"p"),r._uU(1,"transaction-overview works!"),r.qZA(),r.TgZ(2,"form",0)(3,"button",1),r._uU(4,"Add Trasnaction"),r.qZA()(),r._UZ(5,"app-transaction-list"))},dependencies:[R.rH,B.n,u._Y,u.JL,u.F]}),s})(),title:"Trasactions"},{path:"add",component:(()=>{var n;class s{constructor(e,t,a){this.fb=e,this.transactionService=t,this.creditCardService=a,this.transactionForm=this.fb.group({credit_card:["",u.kI.required],amount:["",[u.kI.required,u.kI.pattern("^[0-9]+(.[0-9]{1,2})?$")]],currency:["",u.kI.required],comment:[""],date:["",u.kI.required],uid:[""]}),this.creditCards=[]}ngOnInit(){this.creditCardService.getCreditCards().subscribe(e=>{this.creditCards=e})}formToTransaction(e){return{credit_card:this.creditCards.find(a=>a.card_number===Number(e.get("credit_card_number")))??this.creditCards[0],amount:Number(e.get("amount")?.value),currency:e.get("currency")?.value,comment:e.get("comment")?.value,date:e.get("date")?.value,uid:e.get("credit_card_number")?.value.concat(e.get("amount")?.value).concat(e.get("currency")?.value).concat(e.get("comment")?.value).concat(e.get("date")?.value).hashCode()}}onSubmit(){console.log("Transaction form submitted:",this.transactionForm),this.transactionForm.valid&&this.transactionService.postTransactions(this.formToTransaction(this.transactionForm)).subscribe(e=>{console.log("Transaction added:",e),this.transactionForm.reset()})}}return(n=s).\u0275fac=function(e){return new(e||n)(r.Y36(u.qu),r.Y36(he.p),r.Y36(ue.$))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-transaction-add"]],decls:33,vars:8,consts:[[1,"container"],[3,"formGroup","ngSubmit"],["formControlName","credit_card"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","type","text","formControlName","amount"],["matInput","","formControlName","currency"],["matInput","","formControlName","comment"],["matInput","","type","text","formControlName","date"],["mat-raised-button","","type","submit"],[3,"value"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0)(1,"h1"),r._uU(2,"Add Transaction"),r.qZA(),r.TgZ(3,"form",1),r.NdJ("ngSubmit",function(){return t.onSubmit()}),r.TgZ(4,"mat-form-field")(5,"mat-label"),r._uU(6,"Credit Card"),r.qZA(),r.TgZ(7,"mat-select",2),r.YNc(8,_e,2,2,"mat-option",3),r.qZA(),r.YNc(9,pe,2,0,"mat-error",4),r.qZA(),r.TgZ(10,"mat-form-field")(11,"mat-label"),r._uU(12,"Amount"),r.qZA(),r._UZ(13,"input",5),r.YNc(14,me,2,0,"mat-error",4),r.YNc(15,ge,2,0,"mat-error",4),r.qZA(),r.TgZ(16,"mat-form-field")(17,"mat-label"),r._uU(18,"Currency"),r.qZA(),r._UZ(19,"input",6),r.YNc(20,ve,2,0,"mat-error",4),r.qZA(),r.TgZ(21,"mat-form-field")(22,"mat-label"),r._uU(23,"Comment"),r.qZA(),r._UZ(24,"input",7),r.qZA(),r.TgZ(25,"mat-form-field")(26,"mat-label"),r._uU(27,"Date"),r.qZA(),r._UZ(28,"input",8),r.YNc(29,fe,2,0,"mat-error",4),r.YNc(30,De,2,0,"mat-error",4),r.qZA(),r.TgZ(31,"button",9),r._uU(32,"Add Transaction"),r.qZA()()()),2&e&&(r.xp6(3),r.Q6J("formGroup",t.transactionForm),r.xp6(5),r.Q6J("ngForOf",t.creditCards),r.xp6(1),r.Q6J("ngIf",t.transactionForm.get("credit_card").hasError("required")),r.xp6(5),r.Q6J("ngIf",t.transactionForm.get("amount").hasError("required")),r.xp6(1),r.Q6J("ngIf",t.transactionForm.get("amount").hasError("pattern")),r.xp6(5),r.Q6J("ngIf",t.transactionForm.get("currency").hasError("required")),r.xp6(9),r.Q6J("ngIf",t.transactionForm.get("date").hasError("required")),r.xp6(1),r.Q6J("ngIf",t.transactionForm.get("date").hasError("pattern")))},dependencies:[b.sg,b.O5,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,D.KE,D.hX,D.TO,E.Nt,N.gD,_.ey],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;height:90vh;width:100%}h1[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}mat-label[_ngcontent-%COMP%]{font-size:1.2rem}mat-select[_ngcontent-%COMP%]{font-size:1.2rem}mat-error[_ngcontent-%COMP%]{font-size:1rem;margin-top:.5rem}input[type=text][_ngcontent-%COMP%]{font-size:1.2rem}button[type=submit][_ngcontent-%COMP%]{font-size:1.2rem;margin-top:1rem}"]}),s})(),title:"AddTransaction"}];let be=(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[R.Bz.forChild(ye),R.Bz]}),s})(),Ce=(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[b.ez,be,B.n,u.UX,u.u5,D.lN,E.c,N.LD,ce]}),s})()}}]);